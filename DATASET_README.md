### 1.  Формат данных  
Набор фреймов в формате tif. Каждый фрейм содержит 11 слоев соответствующих снимкам сделанным при разных длинах волн. Фреймы имеют имена в следующем формате: `{номер фрейма}.tif` и лежат в папках `frames_ms`, которые находятся внутри папки с названием, соответствующим названию семпла.
В папке `frames_rgb`, лежат изображения в формате rgb в следующем формате: `{номер фрейма}.jpg`.  
В папке `frames_output`, лежат файлы со статистикой по количеству объектов каждого класса для одного фрейма в следующем формате: `{номер фрейма}.txt`.  


Структура датасета:  
```
├── classes.txt
├── sample_1
│   ├── sample_1.txt
│   ├── output.txt
│   ├── frames_ms
│   │   ├── 0001.tif
│   │   ├── 0002.tif
│   │   ├──...
│   ├── frames_rgb
│   │   ├── 0001.jpg
│   │   ├── 0002.jpg
│   │   ├──...
│   ├── frames_output
│   │   ├── 0001.txt
│   │   ├── 0002.txt
│   │   ├──...
├── sample_2
│   ├── sample_2.txt
│   ├── output.txt
│   ├── frames_ms
│   │   ├── 0001.tif
│   │   ├── 0002.tif
│   │   ├──...
│   ├── frames_rgb
│   │   ├── 0001.jpg
│   │   ├── 0002.jpg
│   │   ├──...
│   ├── frames_output
│   │   ├── 0001.txt
│   │   ├── 0002.txt
│   │   ├──...
├── ...

```  
  
### 2.  Формат и структура разметки  
Аннотация к фреймам имеет следующий формат: `{название семпла}.txt`. В файле с аннотациями следующая структура: `<frame_number>, <object_id>, <label>, <x>, <y>, <w>, <h>`.  

Состав строки:  

frame_number - номер фрейма  
object_id - уникальный идентификатор объекта  
label - номер класса объекта  
x - координата X центра объекта относительно изображения [0-1]  
y - координата Y центра объекта относительно изображения [0-1]  
w - ширина объекта относительно изображения [0-1]  
h - высота объекта относительно изображения [0-1]  

Перечень классов представлен в файле classes.txt. Классы перечислены в том порядке, в котором используются индексы классов в файлах аннотаций (начиная с 0).  

Результаты подсчета количества объектов каждого класса представлены в файлах output.txt.  


### 3.  Результат работы алгоритмов участников  
Алгоритмы участников должны сформировать файлы с количеством объектов каждого класса по каждому кадру, а также количество объектов каждого класса прошедших через конвейер.

Структура результатов:  
```
├── sample_1
│   ├── output.txt
│   ├── frames_output
│   │   ├── 0001.txt
│   │   ├── 0002.txt
│   │   ├──...

```

`sample_1` - название сэмпла;  
`output.txt` - результаты подсчета объектов по всему конвейеру;  
`0001.txt` - результаты подсчета объектов на конкретном фрейме (формат файлов - `{номер фрейма}.txt`).  

Пример содержания выходных файлов (`output.txt` и `{номер фрейма}.txt`):
```
10
15
14
12
```  

Числа соответствуют количеству подсчитанных объектов. Номер строки с количеством соответствует номеру строки класса, указанного в файле `classes.txt`.  


### 4. Оценка результатов, метрика  
Результаты работы алгоритмов участников будут оцениваться по метрике RMSD.  

![1](https://wikimedia.org/api/rest_v1/media/math/render/svg/eeb88fa0f90448e9d1a67cd7a70164f674aeb300){height="3.5in"}  
![2](https://wikimedia.org/api/rest_v1/media/math/render/svg/8eaf7c274686b0259802f8f0928b2a28b2665d8b){height="3.5in"} - предсказанное значение для класса;  
![3](https://wikimedia.org/api/rest_v1/media/math/render/svg/a729287d101ee372925468b7978c876227bec22e){height="3.5in"} - ожидаемое значение;  
Т - количество фрэймов. 

Логика подсчета финальной метрики:  

```
M1 = (RMSD(class_1_frames) + RMSD(class_2_frames) + RMSD(class_3_frames) + RMSD(class_4_frames)) / 4
M2 = (RMSD(class_1) + RMSD(class_2) + RMSD(class_3) + RMSD(class_4)) / 4

M = M1 * 0.75 + M2 * 0.25

``` 
class_n_frames - предсказанные и ожидаемые классы объектов на фрэймах отдельно (где n - номер класса);  
M1 - среднее значение RMSD метрик по каждому классу для отдельных фрэймов;  
class_n - предсказанные и ожидаемые классы уникальных объектов на всем конвейере (где n - номер класса);  
M2 - среднее значение RMSD метрик по каждому классу для уникальных объектов на конвейере;  
M - итоговая метрика.
